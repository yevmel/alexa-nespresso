group 'de.melnichuk'
version '0.1.0-SNAPSHOT'

apply plugin: 'java'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    // compile 'org.springframework:spring-context:4.3.+'

    compile('com.amazon.alexa:alexa-skills-kit:1.4.0') {
        exclude group:'org.slf4j'
        exclude group:'log4j'
    }

    compile 'io.vertx:vertx-web:3.4.+'
    compile 'io.vertx:vertx-web-client:3.4.+'

    compile 'ch.qos.logback:logback-classic:1.2.+'
    compile 'org.slf4j:log4j-over-slf4j:1.7.+'

    compile 'commons-io:commons-io:2.+'
    compile 'org.apache.commons:commons-collections4:4.+'

    testCompile group: 'junit', name: 'junit', version: '4.11'
}

task artifact(type: Tar) {
    from jar.outputs
    from configurations.compile.collect { it }
}

jar {
    manifest {
        attributes ('Main-Class': 'de.melnichuk.alexa_nespresso.Main', 'Class-Path': configurations.compile.collect({ it.name }).join(' '))
    }
}

assemble.finalizedBy 'artifact'
